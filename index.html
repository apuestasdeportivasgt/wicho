<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>HLS Player Test</title>
  <script src="https://cdn.jsdelivr.net/npm/hls.js@1"></script>
</head>
<body>

<h3>HLS Test Player</h3>
<video id="video" controls style="width:100%; max-width:900px; background:black;"></video>

<pre id="log" style="background:#111; color:#0f0; padding:10px; max-width:900px; white-space:pre-wrap;"></pre>

<script>
  const url = "https://d3lqnkl13x5lzq.cloudfront.net/index.m3u8";
  const video = document.getElementById("video");
  const log = document.getElementById("log");

  function say(msg) {
    console.log(msg);
    log.textContent += msg + "\n";
  }

  if (video.canPlayType("application/vnd.apple.mpegurl")) {
    say("Nativo HLS (Safari)");
    video.src = url;
  } else if (Hls.isSupported()) {
    say("hls.js cargado");
    const hls = new Hls({ debug: true });
    hls.loadSource(url);
    hls.attachMedia(video);

    hls.on(Hls.Events.MANIFEST_PARSED, () => say("MANIFEST PARSED"));
    hls.on(Hls.Events.ERROR, (e, data) => say("ERROR: " + JSON.stringify(data)));
  } else {
    say("HLS no soportado en este navegador");
  }
</script>

</body>
</html>
