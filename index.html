<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>HLS Player</title>
  <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
</head>
<body>

<video id="video" controls autoplay muted playsinline style="width:100%; max-width:900px; background:black;"></video>

<script>
  const url = "https://d3lqnkl13x5lzq.cloudfront.net/index.m3u8";
  const video = document.getElementById("video");

  // Safari / iOS — soportan HLS nativo
  if (video.canPlayType("application/vnd.apple.mpegurl")) {
      video.src = url;
      video.play();
  } else {
      // Otros navegadores — usar hls.js
      if (Hls.isSupported()) {
          const hls = new Hls();
          hls.loadSource(url);
          hls.attachMedia(video);
          hls.on(Hls.Events.MANIFEST_PARSED, () => {
              video.play();
          });
          hls.on(Hls.Events.ERROR, function (event, data) {
              console.log("HLS ERROR:", data);
          });
      } else {
          alert("Este navegador no soporta HLS.");
      }
  }
</script>

</body>
</html>
